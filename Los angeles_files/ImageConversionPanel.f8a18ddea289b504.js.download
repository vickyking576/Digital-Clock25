"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31560],{85030:(e,t,r)=>{r.r(t),r.d(t,{ConversionPanelWrapper:()=>ej});var o=r(31085),i=r(52571),a=r(84071),n=r(94972),s=r(33955),l=r(18227),d=r(51895),c=r(91025),u=r(89522),m=r(64669),p=r(3319),h=r(86832),x=r(16465),g=r(73260),v=r(81127),P=r(15129),_=()=>{var{locale:e}=(0,v.Y)();return!!(0,P.U)(g.B0,!1)&&"en"===e},b=r(89737),f=r(19393),j=r(77931),C=r(48946),w=r(89761),A=e=>{var{products:t}=e,r=_(),o=(0,f.eO)(t,b.zWM),i=(0,f.eO)(t,b.InX),a=(0,j.wb)({prices:null==o?void 0:o.prices}),{originalPrice:n,pricePerItemRaw:s}=(0,j.mk)({product:o,itemCount:2}),{originalPrice:l,pricePerItemRaw:d}=(0,j.mk)({product:i,itemCount:5}),c=Math.floor(100*(s-d)/s).toString(),u=l-n,m=(0,C.f)(u,a),h=u-u/100*x.sn,g=(0,C.f)(h,a),{labels:v}=(0,w.s)({namespace:[p.XiT,p.w1H],translationKeys:{title:["save_percentage_on_this_image",{PERCENTAGE:c}],description:["adding_more_images_for_only",{COUNT_PLURAL:"3",PRICE:r?g:m,ns:p.w1H}],download:"common:actions_download",upgradeMe:"upgrade_me",continueToCheckout:"continue_to_checkout"}});return{labels:v,od2StandardLicenseProduct:o,od5StandardLicenseProduct:i}},y=r(98725),k=r(87669),N=r(48976),B=r(79487),I=r(32597),E=r(36908),R=r(36729),D=function(){var{asset:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{asset:void 0},{isBrandSstk:t}=(0,N.P)(),r=!(0,E.i9)(),{isFBA:o}=(0,I.J)(),i=!(0,B.a)({breakpoint:"md"}),{selectedPlan:a}=(0,y.x)(),{currencyData:{currency:n},region:s}=(0,v.Y)(),l=(0,k.sD)(e)&&!(0,k.O6)(e)&&!(0,k.Uh)({channels:null==e?void 0:e.channels}),d=!(0,R.W)(s),c=a===b.zWM,u=a===b.InX,m=t&&(r||o)&&i&&l&&"JPY"!==n&&d;return{isEligibleBuyMoreSaveMoreModal:m,shouldReselectOd2StandardLicense:m&&u,showBuyMoreSaveMoreModal:m&&c}},O=r(2570),S=r(93255),M=r(93509),T=r(94782),z=r(3127),F=r(1334),L=r(73072),W=r(36780),U=r(74299),H=r(14041),Y=r(33497),J=r(33048),G=r(5073),V=r(68647),X=r(3229),q=r(65288),$=r(83079),K=(0,Y.n9)()((e,t)=>{var{tokens:{spacing:r}}=e,{isGenerativeAsset:o}=t;return{buttonProgress:{position:"absolute"},buyAndDownloadButton:{marginTop:o?r.s:r.base}}}),Q=e=>{var{t}=e;return{download:t("common:actions_download")}},Z=e=>{var{product:t,license:r}=e,{name:o}=t||{};return r&&o?"".concat(i.lnH," - ").concat(r,"License - ").concat(o):i.lnH},ee=e=>{var{classes:t=$.vB,asset:r,assetSize:i,couponCode:n="",isDisabled:s=!1,products:l,productType:d=a.PZ,license:c=S.u5e,setCreateOrderStatus:u=$.lQ,vatNumber:m,labelText:h,onCtaClick:x}=e,[g,v]=(0,H.useState)(!1),{classes:P,cx:_}=K({isGenerativeAsset:(0,q.iu)(r)}),{t:b,ready:j}=(0,U.Bd)(p.sVY),C=(0,L.h)(),w=Q({t:b}),{selectedPlan:A}=(0,y.x)(),k=(0,f.eO)(l,A),{createOrderHandler:N,isCreateOrderInProgress:B}=(0,z.s)({orderFlow:T.Y.FBA_IMAGE_CONVERSION_PANEL,asset:r,assetSize:i,couponCode:n,productOverride:k,productType:d,vatNumber:m,setCreateOrderStatus:u,license:c,isLicenseDrawer:!0});(0,H.useEffect)(()=>{C({actionName:"convert - FBA image conversion panel download button ".concat(h||j?"is":"skeleton"," viewed")})},[h,j]);var I=B||!j||s||!g,E=Z({product:k,license:c});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V.l,{asset:r,isTermsChecked:g,setTermsCheckbox:v}),(0,o.jsxs)(X.$n,{className:P.buyAndDownloadButton,"aria-label":"download_conversion_panel",variant:"contained",color:"secondary",onClick:x||(()=>{N(),C({actionName:"convert - FBA image conversion panel download button clicked"})}),fullWidth:!0,disabled:I,labelTrack:E,children:[B&&(0,o.jsx)(J.A,{color:"inherit",size:24,className:_(P.buttonProgress,t.buyAndDownloadButton)}),h||(j?w.download:(0,o.jsx)(G.A,{variant:"text",width:"100%"}))]})]})},et=r(36053),er=(e,t)=>Math.round((e-t)/e*100),eo=e=>{var{products:t,t:r,onDemandProductName:o=b.zWM,subscriptionProductName:i=b.hl}=e,a=(0,f.eO)(t,i),n=(0,f.eO)(t,o),{pricePerAsset:s,formattedPricePerPaymentInterval:l,formattedPricePerAsset:d}=(0,j.JA)({product:a,downloadsPerMonth:null==a?void 0:a.allotmentCredits}),{formattedPrice:c,pricePerItem:u,pricePerItemRaw:m}=(0,j.mk)({product:n,itemCount:null==n?void 0:n.allotmentCredits}),h=(0,f.Fj)({product:a}),x={name:i,title:r("".concat(p.LhA,"::price_for_this_image"),{PRICE:d}),subtitle:r(h?"images_per_month_billed_upfront":"images_per_month_billed_monthly",{PRICE:l,ASSET_COUNT:null==a?void 0:a.allotmentCredits}),caption:!h&&r("billed_monthly_for_one_year"),shouldShowDiscountPill:!0,pillText:r("".concat(p.LhA,"::subscribe_and_save_percentage"),{PERCENTAGE:er(m,+s)})};return[{name:o,title:r("".concat(p.LhA,"::price_for_this_image"),{PRICE:u}),subtitle:r("images_for_price_download_within_year",{PRICE:c,ASSET_COUNT:null==n?void 0:n.allotmentCredits})},x]},ei=e=>{var{allotmentCredits:t,originalPrice:r,discountedPrice:i,period:a,additionalInfo:n}=e;return(0,o.jsxs)(o.Fragment,{children:[t&&"".concat(t," images"),a?"/month":""," for ",(0,o.jsx)("s",{children:r})," ",i,a?" /".concat(a):"",n?", ".concat(n):""]})},ea=e=>{var{products:t,t:r,onDemandProductName:i=b.zWM,subscriptionProductName:a=b.hl}=e,n=(0,f.eO)(t,a),s=(0,f.eO)(t,i),{formattedPricePerPaymentInterval:l,formattedPricePerAsset:d,formattedPriceDiscounted:c,formattedPricePerAssetDiscounted:u}=(0,j.JA)({product:n,downloadsPerMonth:null==n?void 0:n.allotmentCredits,discountPercentage:x.sn}),{formattedPricePerPaymentInterval:m,formattedPricePerAsset:p,formattedPriceDiscounted:h,formattedPricePerAssetDiscounted:g}=(0,j.JA)({product:s,downloadsPerMonth:null==s?void 0:s.allotmentCredits,discountPercentage:x.sn}),v=(0,f.Fj)({product:n}),P=(0,o.jsx)(ei,{allotmentCredits:null==n?void 0:n.allotmentCredits,originalPrice:l,discountedPrice:c,period:"year"}),_=(0,o.jsx)(ei,{allotmentCredits:null==n?void 0:n.allotmentCredits,originalPrice:l,discountedPrice:c,period:"month"}),C={name:a,title:"".concat(u," for this image"),actualPricePerItem:d,caption:!v&&r("billed_monthly_for_one_year"),shouldShowDiscountPill:!1,subtitle:v?P:_},w=(0,o.jsx)(ei,{allotmentCredits:null==s?void 0:s.allotmentCredits,originalPrice:m,discountedPrice:h,additionalInfo:"download within a year"});return[{name:i,title:"".concat(g," for this image"),actualPricePerItem:p,subtitle:w},C]},en=r(54079),es=r(18445),el=r(32599),ed=r(62031),ec=r(75560),eu=(0,Y.n9)()(e=>{var{palette:t,typography:r,tokens:{font:o,border:i,spacing:a,color:n}}=e;return{bold:{fontWeight:r.fontWeightBold},listRoot:{display:"flex",flexDirection:"column",padding:0,width:"100%"},listItemRoot:{display:"flex",flexDirection:"column",padding:a.base,paddingLeft:a.s,alignItems:"start",border:"".concat(i.width.default," solid ").concat(t.border1Color),borderRadius:i.radius.m,"&:not(:last-child)":{marginBottom:a.s},position:"relative"},radioButtonContainer:{display:"flex",alignItems:"flex-start"},radioButton:{marginRight:a.s,padding:a.xs,marginTop:"-5px"},selectedRadioButton:{"&&.Mui-checked":{color:t.info.main}},descriptionSection:{maxWidth:"100%"},row:{display:"flex",flexDirection:"row",width:"100%"},disclaimer:{fontSize:"11px",display:"grid",color:n.gray["onyx-60"]},pill:{color:n.white,backgroundColor:t.info.main,padding:"2px 8px",marginBottom:a.s,borderRadius:"4px",fontWeight:o.weight.bold},strikeOut:{color:n.gray["onyx-60"],marginRight:a.xs,marginLeft:"auto"},activeHighlight:{backgroundColor:"rgba(239, 246, 255, 1)",border:"1px solid #0070F0"},subtitle:{s:{color:n.gray["onyx-60"],marginLeft:"auto"}}}}),em=e=>{var{planDetails:t,selectedPlan:r,setSelectedPlan:i}=e,{classes:a,cx:n}=eu();return(0,o.jsx)(u.A,{mb:4,children:(0,o.jsx)(es.A,{classes:{root:a.listRoot},children:t.map(e=>(0,o.jsx)(el.Ay,{className:n(a.listItemRoot,{[a.activeHighlight]:e.name===r}),onClick:()=>{i(e.name)},"aria-label":"".concat(e.name,"-container"),children:(0,o.jsxs)("div",{className:a.row,children:[(0,o.jsx)("div",{className:a.radioButtonContainer,children:(0,o.jsx)(ed.A,{checked:e.name===r,classes:{root:a.radioButton,checked:a.selectedRadioButton},inputProps:{"aria-label":"".concat(e.name,"-radio_button")}})}),(0,o.jsxs)(u.A,{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column",width:"100%",className:a.descriptionSection,children:[(0,o.jsx)(u.A,{"aria-label":"".concat(e.name,"-plan-title"),children:(0,o.jsxs)(m.A,{variant:"body2",className:a.bold,children:[(null==e?void 0:e.actualPricePerItem)&&(0,o.jsx)("s",{className:a.strikeOut,children:null==e?void 0:e.actualPricePerItem}),(0,o.jsx)("span",{className:a.bold,children:e.title})]})}),(null==e?void 0:e.subtitle)&&(0,o.jsx)(m.A,{variant:"caption",color:"primary",className:a.subtitle,children:e.subtitle}),(null==e?void 0:e.caption)&&(0,o.jsxs)("div",{className:a.disclaimer,children:[e.caption,(0,o.jsx)("span",{children:(0,o.jsx)(ec.H,{})})]}),(null==e?void 0:e.shouldShowDiscountPill)&&(0,o.jsx)(m.A,{variant:"caption",color:"primary",className:a.pill,"aria-label":"pill-text-bottom",mt:2,children:null==e?void 0:e.pillText})]})]})},e.name))})})},ep=e=>{var{products:t,subscriptionProductName:r=b.hl,onDemandProductName:i=b.zWM}=e,{selectedPlan:a,setSelectedPlan:n}=(0,y.x)(),{region:s}=(0,v.Y)(),l=s===en.aE?b.G18:r,{t:d}=(0,U.Bd)([p.uez,p.LhA]),c=_(),u=eo({products:t,subscriptionProductName:l,onDemandProductName:i,t:d}),m=ea({products:t,subscriptionProductName:l,onDemandProductName:i,t:d});return(0,H.useEffect)(()=>{n(l)},[n,l]),(0,o.jsx)(em,{planDetails:c?m:u,selectedPlan:a,setSelectedPlan:n})},eh=e=>{var{classes:t={},label:r,paddingBottom:i=4}=e,{t:a}=(0,U.Bd)(p.uez);return(0,o.jsx)(m.A,{variant:"body2",pb:i,children:(0,o.jsx)("span",{className:t.bold,children:a(r)})})},ex=r(35767),eg=r(73994),ev=e=>{var{externalClasses:t,products:r,TypographyComponent:i=eh,ImageLicensePlanSelectorComponent:a=ep}=e,n=_(),{theme:s}=(0,N.P)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,(0,d._)({classes:t,label:"ways_to_shop"},n&&{paddingBottom:2})),n&&(0,o.jsx)(ex.Banner,{text:x.jo,margin:"0px 0px 8px 0px"}),(0,o.jsx)(a,{products:r}),n&&(0,o.jsx)(eg.DescriptionText,{text:x.JE,color:s.tokens.color.gray["onyx-60"],fontSize:"12px"}),(0,o.jsx)(et.A,{})]})},eP=(0,Y.n9)()((e,t)=>{var{typography:r,tokens:{border:o,color:i,zIndex:a,spacing:n}}=e,{isRedesignExperience:s}=t;return{root:{display:"flex",alignItems:"stretch",height:"100%",width:"100%",flexDirection:"column",overflow:"hidden",zIndex:a["2"],position:"relative",backgroundColor:i.white,borderRadius:o.radius.l,margin:"0 px",padding:s?"0px":n.m},bold:{fontWeight:r.fontWeightBold},threeDDisclaimerText:{fontSize:"13px",color:"rgba(12, 18, 28, 0.6)",padding:"14px 16px 0px 0px"}}}),e_=e=>{var{asset:t,assetSize:r,products:i,onCtaClick:a,labelText:n,couponCode:s}=e;return(0,o.jsx)(ee,(0,d._)((0,c._)((0,d._)({asset:t,assetSize:r,products:i},a&&{onCtaClick:a}),{labelText:n}),s&&{couponCode:s}))},eb=e=>{var{asset:t,products:r,TypographyComponent:i,ButtonComponent:a=e_}=e,n=(0,L.h)(),{classes:s}=eP({isRedesignExperience:(0,F.F)()}),[l,v]=(0,H.useState)(!1),{t:b}=(0,U.Bd)([p.sVY,p.uez]),f=(0,P.U)(g.$u,!1),j=_(),{isEligibleBuyMoreSaveMoreModal:C,showBuyMoreSaveMoreModal:w}=D({asset:t}),{isSMBEntryPointsEligible:y}=(0,W.n)(),{labels:N,od2StandardLicenseProduct:B,od5StandardLicenseProduct:I}=A({products:r}),E=(0,k.R1)(t);(0,H.useEffect)(()=>{n({actionName:"convert - FBA image conversion panel is viewed"})},[]);var R=(0,d._)({orderFlow:T.Y.BUY_MORE_SAVE_MORE_MODAL,asset:t,assetSize:t.sizes.hugeJpg,license:S.u5e,isLicenseDrawer:!0},j&&{couponCode:x.gf}),{createOrderHandler:Y,isCreateOrderInProgress:J}=(0,z.s)((0,c._)((0,d._)({},R),{productOverride:B})),{createOrderHandler:G,isCreateOrderInProgress:V}=(0,z.s)((0,c._)((0,d._)({},R),{productOverride:I}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.A,{className:s.root,"data-automation":"related-assets-select-license-type",children:[(0,o.jsx)(ev,{externalClasses:s,products:r,TypographyComponent:i}),E&&(0,o.jsx)(m.A,{className:s.threeDDisclaimerText,children:b("3d_download_disclaimer",{ns:p.uez})}),(0,o.jsx)(a,(0,d._)({asset:t,assetSize:t.sizes.hugeJpg,products:r},w&&{onCtaClick:()=>v(!0)},j&&{couponCode:x.gf})),f&&(0,o.jsx)(u.A,{mt:3,children:(0,o.jsx)(O.w,{asset:t})})]}),y&&(0,o.jsx)(M.v,{linkUrl:"/business#request-demo"}),C&&(0,o.jsx)(h.F,{isModalOpen:l,closeModal:()=>v(!1),handleUpgradeCta:G,handleCheckoutCta:Y,isDisabledCTA:J||V,labels:N})]})},ef=()=>{var{classes:e}=eP({isRedesignExperience:(0,F.F)()});return(0,o.jsxs)(u.A,{className:e.root,sx:{p:5},children:[(0,o.jsx)(G.A,{variant:"text",sx:{fontSize:"1rem"},style:{marginBottom:22}}),(0,o.jsx)(G.A,{variant:"rectangular",height:200,style:{marginBottom:12}}),(0,o.jsx)(et.A,{}),(0,o.jsx)(G.A,{variant:"rounded",height:30,style:{marginTop:12}})]})},ej=e=>{var{asset:t,products:r}=e,d=(0,s.M)({queryParams:a.i1,products:r});return(null==d?void 0:d.length)?(0,o.jsx)(l.SX,{value:i.zgh,children:(0,o.jsx)(n.k,{children:(0,o.jsx)(eb,{asset:t,products:d})})}):(0,o.jsx)(ef,{})}}}]);
//# sourceMappingURL=ImageConversionPanel.f8a18ddea289b504.js.map