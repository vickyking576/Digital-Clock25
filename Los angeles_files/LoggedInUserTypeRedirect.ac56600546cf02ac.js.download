"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{38468:(e,r,i)=>{i.d(r,{d:()=>t,k:()=>a});var n=i(18652),t=e=>{var{urlParams:r={}}=e,i="/groups/".concat(r.groupId);return{url:i,formattedUrl:(0,n.format)({pathname:i})}},a=e=>{var{urlParams:r={}}=e,i="/groups/".concat(r.groupId,"/users");return{url:i,formattedUrl:(0,n.format)({pathname:i,query:{perPage:5e3}})}}},8309:(e,r,i)=>{i.r(r),i.d(r,{LoggedInUserTypeRedirect:()=>g});var n=i(51895),t=i(91025),a=i(51694),o=i(71848),d=i(48976),l=i(98301),s=i(89272),u=i(99613),c=i(3478),v=i(79253),p=i.n(v),f=i(14041),{publicRuntimeConfig:{enterpriseBaseUrl:w,shutterstockBaseUrl:_}}=p()(),g=()=>{var e=(0,l.y)(),{isBrandEnterprise:r,isBrandSstk:i}=(0,d.P)(),v=(0,s.P)();return(0,f.useEffect)(()=>{var d,l,s,p,f,g,m,U;if(e&&!v&&(!i||e.isEnterpriseUser)&&(!r||!e.isEnterpriseUser)){if(i&&e.isEnterpriseUser){if(window.location.href.includes(_)){null===(p=window.NREUM)||void 0===p||null===(s=p.addPageAction)||void 0===s||s.call(p,"UP3-1623 assign enterprise url to href",(0,t._)((0,n._)({},window.location||{}),{enterpriseBaseUrl:w,isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser,shutterstockBaseUrl:_})),window.location.href=window.location.href.replace(_,w);return}null===(l=window.NREUM)||void 0===l||null===(d=l.addPageAction)||void 0===d||d.call(l,"UP3-1623 force the experience into enterprise by reload",(0,n._)((0,t._)((0,n._)({},window.location||{}),{isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser}),e)),c.A.set(a.bE,a.w8),(0,u.Ld)("entCookieSet");return}if(r&&void 0!==e.userType&&!e.isEnterpriseUser){if(window.location.href.includes(w)){c.A.remove(o.eT),null===(U=window.NREUM)||void 0===U||null===(m=U.addPageAction)||void 0===m||m.call(U,"UP3-1623 force the experience into enterprise by setting the href",(0,n._)((0,t._)((0,n._)({},window.location||{}),{isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,enterpriseBaseUrl:w,shutterstockBaseUrl:_}),e)),window.location.href=window.location.href.replace(w,_);return}null===(g=window.NREUM)||void 0===g||null===(f=g.addPageAction)||void 0===f||f.call(g,"UP3-1623 force the experience into www by reload",(0,n._)((0,t._)((0,n._)({},window.location||{}),{isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser}),e)),c.A.set(a.bE,a.Eq),(0,u.Ld)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[e,r,i,v]),null}},64380:(e,r,i)=>{i.d(r,{N:()=>s});var n=i(38468),t=i(73072),a=i(22183),o=i(74490),d=i(34559),l=i(42105),s=e=>{var{data:r,mutate:i}=(0,a.P)(e?(0,n.d)({urlParams:{groupId:e}}).formattedUrl:null,e=>o.Vw.get(e)),s=(0,t.h)();return r&&!r.data&&s({actionName:"FREN-503 - useFetchOrganization meta error",customAttributes:{response:r,organizationId:e}}),{data:(null==r?void 0:r.data)?(0,l.T)((0,d.A)(r.data)):void 0,mutate:i}}},50717:(e,r,i)=>{i.d(r,{M:()=>v});var n=i(51895),t=i(63870),a=i(93255),o=i(18570),d=i(65915),l=i(36908),s=i(22183),u=i(74490),c=i(34559),v=function(){var{queryParams:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r}=(0,l.rA)(),i=(0,n._)({target:a.A_I,site_name:o.RJ,setting_type:a.A_I},e);return(0,s.P)((null==r?void 0:r.id)&&(null==r?void 0:r.organizationId)&&(0,t.h_)({queryParams:i}).formattedUrl,e=>u.Bn.get(e).then(e=>(0,c.A)(e.data)),{dedupingInterval:d.iW})}},98301:(e,r,i)=>{i.d(r,{y:()=>g});var n=i(51895),t=i(91025),a=i(96353),o=i(70582),d=i(18570),l=i(70196),s=i(79253),u=i.n(s),c=i(64380),v=i(50717),p=i(36908),f=i(82168),w=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:_}}}=u()(),g=()=>{var{data:e,isLoading:r}=(0,p.rA)(),{data:i,mutate:s,isLoading:u}=(0,v.M)({queryParams:{site_name:d.ln}}),{data:g,isLoading:m,mutate:U}=(0,c.N)(null==e?void 0:e.organizationId),{data:h,isLoading:E}=(0,f.R)(null==e?void 0:e.id);if(!(null==e?void 0:e.organizationId))return(0,t._)((0,n._)({},e),{userType:(null==e?void 0:e.id)?l.zv:void 0,isEnterpriseUser:!1,workspaces:h});if(r||m||E||u)return{};var P={},A={};if(e){var{roles:y}=e,N=(0,a._)(e,["roles"]),b=null==y?void 0:y.id;P=(0,t._)((0,n._)({},P,N),{isAdmin:b===o.KC})}if((null==e?void 0:e.id)&&(null==h?void 0:h.length)>=1){var k="".concat(null==e?void 0:e.id,"-").concat(null==e?void 0:e.organizationId);I=null==(A=h.find(e=>(null==e?void 0:e.id)===k))?void 0:A.type}if(g){var I,R,{id:C,displayName:L}=g,z=(0,a._)(g,["id","displayName"]);P=(0,t._)((0,n._)({},P,z),{teamName:L,isAdmin:(null===(R=z.roles)||void 0===R?void 0:R.id)===o.KC})}if(i){var{avatarOriginalUrl:M,avatarThumbnailUrl:T}=i;P=(0,t._)((0,n._)({},P),{avatarThumbnailUrl:null==T?void 0:T.replace(w,_),avatarOriginalUrl:M})}return(0,t._)((0,n._)({},P),{mutateOrgSettings:s,mutateTeamData:U,isEnterpriseUser:I===l.uX,userType:I,workspaces:h,currentUserWorkspace:A})}},82168:(e,r,i)=>{i.d(r,{R:()=>s});var n=i(51895),t=i(63870),a=i(89272),o=i(22183),d=i(74490),l=i(34559),s=e=>{var r=(0,a.P)(),i={urlParams:{id:e},queryParams:(0,n._)({},r&&{accept_invite:1})};return(0,o.P)(e?(0,t.k0)(i).formattedUrl:null,e=>d.Bn.get(e).then(e=>{var{data:r}=e;if(r)return(0,l.A)(r)}))}}}]);
//# sourceMappingURL=LoggedInUserTypeRedirect.ac56600546cf02ac.js.map